<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>KantinITH - Daftar Pesanan Penjual</title>
  <link rel="stylesheet" href="../css/seller.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- NAVBAR (Optional, can be hidden on larger screens if using sidebar) -->
  <header class="navbar">
    <div class="logo">
      <img src="../aset/logo.png" alt="Logo">
      <span class="brand">KantinITH</span>
    </div>
    <nav class="top-nav">
      <!-- Links will be in sidebar -->
      <a href="#" onclick="showProfileInfo()" id="topbarProfileLink"><i class="uil uil-user"></i> Kak Ros (Penjual)</a>
      <a href="#" onclick="showLogout()"><i class="uil uil-signout"></i></a>
    </nav>
  </header>

  <div class="container-layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-logo">
         <img src="../aset/logo.png" alt="Logo">
         <span class="brand">KantinITH</span>
      </div>
      <nav class="sidebar-nav">
        <a href="dashboard.html"><i class="uil uil-chart-line"></i> Dashboard</a>
        <a href="daftar_stok_menu.html"><i class="uil uil-store"></i> Daftar Menu</a>
        <a href="daftar_pesanan.html" class="active"><i class="uil uil-shopping-cart"></i> Daftar Pesanan</a>
        <a href="#" onclick="showLogout()"><i class="uil uil-signout"></i> Logout</a>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
       <h1 class="page-title">Daftar Pesanan</h1>

      <!-- ORDER LIST SECTION -->
      <section class="order-list-section card">
          <h2>Semua Pesanan</h2>
          <div class="table-container">
               <table id="ordersTable">
                   <thead>
                       <tr>
                           <th>ID Pesanan</th>
                           <th>Nama Pesanan</th>
                           <th>Total Harga</th>
                           <th>Status Pesanan</th>
                           <th>Update Pesanan</th>
                       </tr>
                   </thead>
                   <tbody>
                       <!-- Data akan diisi oleh JS -->
                   </tbody>
               </table>
          </div>
      </section>

       <!-- ORDER DETAILS POPUP -->
       <div id="orderDetailsPopup" class="popup-overlay" style="display: none;">
           <div class="popup-box">
           <div class="popup-content">
               <h2>Detail Pesanan #<span id="orderDetailId"></span></h2>
               <div class="order-details-info">
                   <p><strong>Total:</strong> <span id="orderDetailTotal"></span></p>
                   <p><strong>Status:</strong> <span id="orderDetailStatus"></span></p>
                   <h4>Item Pesanan:</h4>
                   <ul id="orderDetailItemsList">
                       <!-- Order items will be populated by JS -->
                   </ul>
               </div>
                <div class="popup-buttons">
                   <button type="button" class="btn secondary" onclick="closePopup('orderDetailsPopup')">Tutup</button>
               </div>
           </div>
           </div>
       </div>

       <!-- UPDATE STATUS POPUP -->
        <div id="updateStatusPopup" class="popup-overlay" style="display: none;">
           <div class="popup-box">
           <div class="popup-content">
               <h2>Update Status Pesanan #<span id="updateStatusOrderId"></span></h2>
                <div class="form-group">
                   <label for="newOrderStatus">Status Baru:</label>
                   <select id="newOrderStatus">
                       <option value="Menunggu">Menunggu</option>
                       <option value="Diproses">Diproses</option>
                       <option value="Siap Diambil">Siap Diambil</option>
                       <option value="Selesai">Selesai</option>
                   </select>
               </div>
                <div class="popup-buttons">
                   <button type="button" class="btn small-btn icon-btn primary-btn status-btn" id="saveOrderStatusBtn"><i class="uil uil-sync"></i> Simpan</button>
                   <button type="button" class="btn secondary" onclick="closePopup('updateStatusPopup')">Batal</button>
               </div>
           </div>
           </div>
       </div>


    </main>
  </div>

  <!-- PROFILE POPUP (Copy dari dashboard.html) -->
   <div id="profilePopup" class="popup-overlay" style="display: none;">
    <div class="popup-box">
    <div class="popup-content">
      <h2>Informasi Profil</h2>
      <div class="profile-info">
        <p><strong>Username:</strong> <span id="profileUsername"></span></p>
        <p><strong>Role:</strong> <span id="profileRole"></span></p>
      </div>
      <button onclick="closePopup('profilePopup')" class="close-btn">Tutup</button>
    </div>
    </div>
  </div>

  <!-- LOGOUT POPUP -->
  <div id="logoutPopup" class="popup-overlay" style="display: none;">
    <div class="popup-box">
      <div class="popup-header">
        <h3>Konfirmasi Keluar</h3>
        <!-- <span class="close-popup" onclick="closePopup('logoutPopup')">âœ–</span> -->
      </div>
      <div class="popup-content">
        <div class="user-info">
          <div class="user-avatar">
            <i class="uil uil-user"></i>
          </div>
          <div class="user-name" id="sellerLogoutUserName"></div>
          <div class="user-role" id="sellerLogoutUserRole"></div>
        </div>
        <p>Apakah Anda yakin ingin keluar?</p>
        <div class="checkout-actions">
          <button onclick="logout()" class="confirm-btn">Ya, Keluar</button>
          <button onclick="closePopup('logoutPopup')" class="cancel-btn">Batal</button>
        </div>
      </div>
    </div>
  </div>


  <script src="../js/seller_orders.js"></script>
   <script src="../js/seller_common.js"></script> <!-- Jika ada script umum seperti logout -->
</body>
</html> 